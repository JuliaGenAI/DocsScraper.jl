<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Home · DocsScraper.jl</title><meta name="title" content="Home · DocsScraper.jl"/><meta property="og:title" content="Home · DocsScraper.jl"/><meta property="twitter:title" content="Home · DocsScraper.jl"/><meta name="description" content="Documentation for DocsScraper.jl."/><meta property="og:description" content="Documentation for DocsScraper.jl."/><meta property="twitter:description" content="Documentation for DocsScraper.jl."/><meta property="og:url" content="https://JuliaGenAI.github.io/DocsScraper.jl/"/><meta property="twitter:url" content="https://JuliaGenAI.github.io/DocsScraper.jl/"/><link rel="canonical" href="https://JuliaGenAI.github.io/DocsScraper.jl/"/><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="search_index.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href>DocsScraper.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>Home</a><ul class="internal"><li><a class="tocitem" href="#Features"><span>Features</span></a></li><li><a class="tocitem" href="#Installation"><span>Installation</span></a></li><li><a class="tocitem" href="#Building-the-Index"><span>Building the Index</span></a></li><li><a class="tocitem" href="#Using-the-Index-for-Questions"><span>Using the Index for Questions</span></a></li><li><a class="tocitem" href="#Output"><span>Output</span></a></li></ul></li><li><a class="tocitem" href="api/">API Reference</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Home</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Home</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/JuliaGenAI/DocsScraper.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/JuliaGenAI/DocsScraper.jl/blob/main/docs/src/index.md#" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="DocsScraper"><a class="docs-heading-anchor" href="#DocsScraper">DocsScraper</a><a id="DocsScraper-1"></a><a class="docs-heading-anchor-permalink" href="#DocsScraper" title="Permalink"></a></h1><p>DocsScraper is a package designed to create &quot;knowledge packs&quot; from online documentation sites for the Julia language.</p><p>It scrapes and parses the URLs and with the help of PromptingTools.jl, creates an index of chunks and their embeddings that can be used in RAG applications. It integrates with AIHelpMe.jl and PromptingTools.jl to offer highly efficient and relevant query retrieval, ensuring that the responses generated by the system are specific to the content in the created database.</p><h2 id="Features"><a class="docs-heading-anchor" href="#Features">Features</a><a id="Features-1"></a><a class="docs-heading-anchor-permalink" href="#Features" title="Permalink"></a></h2><ul><li><strong>URL Scraping and Parsing</strong>: Automatically scrapes and parses input URLs to extract relevant information, paying particular attention to code snippets and code blocks. Gives an option to customize the chunk sizes</li><li><strong>URL Crawling</strong>: Optionally crawls the input URLs to look for multiple pages in the same domain.</li><li><strong>Knowledge Index Creation</strong>: Leverages PromptingTools.jl to create embeddings with customizable embedding model, size and type (Bool and Float32). </li></ul><h2 id="Installation"><a class="docs-heading-anchor" href="#Installation">Installation</a><a id="Installation-1"></a><a class="docs-heading-anchor-permalink" href="#Installation" title="Permalink"></a></h2><p>To install DocsScraper, use the Julia package manager and the package name (it&#39;s not registered yet):</p><pre><code class="language-julia hljs">using Pkg
Pkg.add(url=&quot;https://github.com/JuliaGenAI/DocsScraper.jl&quot;)</code></pre><p><strong>Prerequisites:</strong></p><ul><li>Julia (version 1.10 or later).</li><li>Internet connection for API access.</li><li>OpenAI API keys with available credits. See <a href="https://svilupp.github.io/PromptingTools.jl/dev/frequently_asked_questions#Creating-OpenAI-API-Key">How to Obtain API Keys</a>.</li></ul><h2 id="Building-the-Index"><a class="docs-heading-anchor" href="#Building-the-Index">Building the Index</a><a id="Building-the-Index-1"></a><a class="docs-heading-anchor-permalink" href="#Building-the-Index" title="Permalink"></a></h2><pre><code class="language-julia hljs">using DocsScraper
crawlable_urls = [&quot;https://juliagenai.github.io/DocsScraper.jl/dev&quot;]

index_path = make_knowledge_packs(crawlable_urls;
    index_name = &quot;docsscraper&quot;, embedding_dimension = 1024, embedding_bool = true, target_path=joinpath(pwd(), &quot;knowledge_packs&quot;))</code></pre><pre><code class="language-julia hljs">[ Info: robots.txt unavailable for https://juliagenai.github.io:/DocsScraper.jl/dev/home/
[ Info: Scraping link: https://juliagenai.github.io:/DocsScraper.jl/dev/home/
[ Info: robots.txt unavailable for https://juliagenai.github.io:/DocsScraper.jl/dev
[ Info: Scraping link: https://juliagenai.github.io:/DocsScraper.jl/dev
. . .
[ Info: Processing https://juliagenai.github.io:/DocsScraper.jl/dev...
[ Info: Parsing URL: https://juliagenai.github.io:/DocsScraper.jl/dev
[ Info: Scraping done: 44 chunks
[ Info: Removed 0 short chunks
[ Info: Removed 1 duplicate chunks
[ Info: Created embeddings for docsscraper. Cost: $0.001
a docsscraper__v20240823__textembedding3large-1024-Bool__v1.0.hdf5
[ Info: ARTIFACT: docsscraper__v20240823__textembedding3large-1024-Bool__v1.0.tar.gz
┌ Info: sha256:
└   sha = &quot;977c2b9d9fe30bebea3b6db124b733d29b7762a8f82c9bd642751f37ad27ee2e&quot;
┌ Info: git-tree-sha1:
└   git_tree_sha = &quot;eca409c0a32ed506fbd8125887b96987e9fb91d2&quot;
[ Info: Saving source URLS in Julia\knowledge_packs\docsscraper\docsscraper_URL_mapping.csv      
&quot;Julia\\knowledge_packs\\docsscraper\\Index\\docsscraper__v20240823__textembedding3large-1024-Bool__v1.0.hdf5&quot;</code></pre><p><code>make_knowledge_packs</code> is the entry point to the package. This function takes in the URLs to parse and returns the index. This index can be passed to AIHelpMe.jl to answer queries on the built knowledge packs.</p><p><strong>Default <code>make_knowledge_packs</code> Parameters:</strong> </p><ul><li>Default embedding type is Float32. Change to boolean by the optional parameter: <code>embedding_bool = true</code>.</li><li>Default embedding size is 3072. Change to custom size by the optional parameter: <code>embedding_dimension = custom_dimension</code>.</li><li>Default model being used is OpenAI&#39;s text-embedding-3-large.</li><li>Default max chunk size is 384 and min chunk size is 40. Change by the optional parameters: <code>max_chunk_size = custom_max_size</code> and <code>min_chunk_size = custom_min_size</code>.</li></ul><p><strong>Note:</strong> For everyday use, embedding size = 1024 and embedding type = Bool is sufficient. This is compatible with AIHelpMe&#39;s <code>:bronze</code> and <code>:silver</code> pipelines (<code>update_pipeline(:bronze)</code>). For better results use embedding size = 3072 and embedding type = Float32. This requires the use of <code>:gold</code> pipeline (see more <code>?RAG_CONFIGURATIONS</code>)</p><h2 id="Using-the-Index-for-Questions"><a class="docs-heading-anchor" href="#Using-the-Index-for-Questions">Using the Index for Questions</a><a id="Using-the-Index-for-Questions-1"></a><a class="docs-heading-anchor-permalink" href="#Using-the-Index-for-Questions" title="Permalink"></a></h2><pre><code class="language-julia hljs">using AIHelpMe
using AIHelpMe: pprint, load_index!

# set it as the &quot;default&quot; index, then it will be automatically used for every question
load_index!(index_path)

aihelp(&quot;what is DocsScraper.jl?&quot;) |&gt; pprint</code></pre><pre><code class="language-julia hljs">[ Info: Updated RAG pipeline to `:bronze` (Configuration key: &quot;textembedding3large-1024-Bool&quot;).
[ Info: Loaded index from packs: julia into MAIN_INDEX
[ Info: Loading index from Julia\DocsScraper.jl\docsscraper\Index\docsscraper__v20240823__textembedding3large-1024-Bool__v1.0.hdf5
[ Info: Loaded index a file Julia\DocsScraper.jl\docsscraper\Index\docsscraper__v20240823__textembedding3large-1024-Bool__v1.0.hdf5 into MAIN_INDEX
[ Info: Done with RAG. Total cost: $0.009
--------------------
AI Message
--------------------
DocsScraper.jl is a Julia package designed to create a vector database from input URLs. It scrapes and parses the URLs and, with the assistance of      
PromptingTools.jl, creates a vector store that can be utilized in RAG (Retrieval-Augmented Generation) applications. DocsScraper.jl integrates with     
AIHelpMe.jl and PromptingTools.jl to provide efficient and relevant query retrieval, ensuring that the responses generated by the system are specific to the content in the created database.</code></pre><p>Tip: Use <code>pprint</code> for nicer outputs with sources and <code>last_result</code> for more detailed outputs (with sources).</p><pre><code class="language-julia hljs">using AIHelpMe: last_result
print(last_result())</code></pre><h2 id="Output"><a class="docs-heading-anchor" href="#Output">Output</a><a id="Output-1"></a><a class="docs-heading-anchor-permalink" href="#Output" title="Permalink"></a></h2><p><code>make_knowledge_packs</code> creates the following files:</p><pre><code class="nohighlight hljs">index_name\
│
├── Index\
│   ├── index_name__artifact__info.txt
│   ├── index_name__vDate__model_embedding_size-embedding_type__v1.0.hdf5
│   └── index_name__vDate__model_embedding_size-embedding_type__v1.0.tar.gz  
│
├── Scraped_files\
│   ├── scraped_hostname-chunks-max-chunk_size-min-min_chunk_size.jls
│   ├── scraped_hostname-sources-max-chunk_size-min-min_chunk_size.jls
│   └── . . .
│
└── index_name_URL_mapping.csv</code></pre><ul><li>Index\: contains the .hdf5 and .tar.gz files along with the artifact__info.txt. Artifact info contains sha256 and git-tree-sha1 hashes. </li><li>Scraped_files\: contains the scraped chunks and sources. These are separated by the hostnames of the URLs.</li><li>URL_mapping.csv contains the scraped URLs mapping them with the estimated package name.</li></ul></article><nav class="docs-footer"><a class="docs-footer-nextpage" href="api/">API Reference »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.6.0 on <span class="colophon-date" title="Saturday 24 August 2024 12:59">Saturday 24 August 2024</span>. Using Julia version 1.10.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
